<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Frequency Loader Test</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .test-result { margin: 10px 0; padding: 10px; border-radius: 5px; }
        .success { background-color: #d4edda; color: #155724; }
        .error { background-color: #f8d7da; color: #721c24; }
        .info { background-color: #d1ecf1; color: #0c5460; }
    </style>
</head>
<body>
    <h1>Frequency Loader Test</h1>
    <div id="results"></div>

    <script>
        // Mock chrome.runtime for testing
        window.chrome = {
            runtime: {
                getURL: (path) => `./dist/${path}`
            }
        };

        // Load the frequency loader (we'll need to build it first)
        async function testFrequencyLoader() {
            const results = document.getElementById('results');
            
            try {
                // This will be available after we build the extension
                const { frequencyLoader } = await import('./dist/popup.js');
                
                results.innerHTML += '<div class="info">Testing frequency list loading...</div>';
                
                // Test loading French frequency list
                const frenchList = await frequencyLoader.loadFrequencyList('fr', 1000);
                results.innerHTML += `<div class="success">✅ French list loaded: ${frenchList.count} words</div>`;
                
                // Test word checking
                const isKnown = await frequencyLoader.isWordKnown('bonjour', 'fr', 1000);
                results.innerHTML += `<div class="success">✅ Word "bonjour" known: ${isKnown}</div>`;
                
                // Test available languages
                const languages = frequencyLoader.getAvailableLanguages();
                results.innerHTML += `<div class="success">✅ Available languages: ${languages.join(', ')}</div>`;
                
            } catch (error) {
                results.innerHTML += `<div class="error">❌ Error: ${error.message}</div>`;
            }
        }

        // Run test when page loads
        window.addEventListener('load', testFrequencyLoader);
    </script>
</body>
</html>
